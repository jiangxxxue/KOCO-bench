#!/bin/bash
# 快速运行所有测试的脚本

echo "=========================================="
echo "运行 TensorRT-Incubator 单元测试"
echo "=========================================="
echo ""

# 切换到测试目录
cd "$(dirname "$0")"

echo "测试目录: $(pwd)"
echo ""

# 统计测试文件数量
TEST_FILES=$(ls test_*.py 2>/dev/null | wc -l)
echo "发现 $TEST_FILES 个测试文件"
echo ""

# 运行所有测试
echo "开始运行测试..."
echo "=========================================="
python3 -m unittest discover -s . -p "test_*.py" -v

# 检查退出码
if [ $? -eq 0 ]; then
    echo ""
    echo "=========================================="
    echo "✓ 所有测试通过！"
    echo "=========================================="
else
    echo ""
    echo "=========================================="
    echo "✗ 部分测试失败"
    echo "=========================================="
    exit 1
fi

